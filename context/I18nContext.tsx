
import React, { createContext, useState, ReactNode, useEffect } from 'react';
import type { Language, Translations } from '../types';

interface I18nContextType {
  language: 'en' | 'ar';
  setLanguage: (lang: 'en' | 'ar') => void;
  t: (key: string) => string;
}

const translations: Translations = {
  en: {
    login: 'Login',
    email: 'Email',
    password: 'Password',
    loginError: 'Invalid email or password.',
    inspector: 'Inspector',
    supervisor: 'Supervisor',
    executive: 'Executive',
    dashboard: 'Dashboard',
    newInspection: 'New Inspection',
    reports: 'Inspections',
    settings: 'Settings',
    logout: 'Logout',
    welcome: 'Welcome',
    username: 'Username',
    passwordPlaceholder: 'Enter password',
    demoCredentials: 'Demo Credentials',
    clickToFill: 'Click to fill',
    // Report & Dashboard
    referenceNumber: 'Ref Number',
    date: 'Date',
    time: 'Time',
    location: 'Location',
    status: 'Status',
    score: 'Score',
    view: 'View',
    saveAsDraft: 'Save as Draft',
    submitReport: 'Submit Report',
    totalReports: 'Total Reports',
    averageScore: 'Average Score',
    criticalIssues: 'Critical Issues',
    performanceTrend: 'Performance Trend',
    riskCategoryDistribution: 'Risk Distribution',
    recentInspections: 'Recent Inspections',
    // Form
    inspectionForm: 'Inspection Form',
    evaluationItem: 'Evaluation Item',
    photoEvidence: 'Photo Evidence',
    addANote: 'Add a note...',
    uploadPhoto: 'Upload Photo',
    noPhotosUploaded: 'No photos uploaded',
    additionalNotes: 'Additional Notes',
    possibleNotes: 'Standard Observations',
    // New Inspection Page
    selectRiskCategory: 'Select Zone Risk Category',
    highRisk: 'High Risk',
    mediumRisk: 'Medium Risk',
    lowRisk: 'Low Risk',
    startEvaluation: 'Start Evaluation',
    subLocations: 'Sub-locations',
    subLocationPlaceholder: 'e.g. Bed 1, Room 101...',
    zoneType: 'Zone Type',
    // Settings
    userManagement: 'User Management',
    addUser: 'Add User',
    editUser: 'Edit User',
    deleteUser: 'Delete User',
    fullName: 'Full Name',
    role: 'Role',
    actions: 'Actions',
    confirmDelete: 'Are you sure you want to delete this user?',
    userCreated: 'User created successfully',
    userUpdated: 'User updated successfully',
    userDeleted: 'User deleted successfully',
    changePassword: 'Change Password',
    currentPassword: 'Current Password',
    newPassword: 'New Password',
    confirmNewPassword: 'Confirm New Password',
    passwordMismatch: 'New passwords do not match',
    passwordUpdated: 'Password updated successfully',
    incorrectPassword: 'Incorrect current password',
    myProfile: 'My Profile',
    // Report Detail
    reportDetails: 'Report Details',
    downloadPdf: 'Download PDF',
    inspectionReportTitle: 'Environmental Services Inspection Report',
    generatedReportNotice: 'This document is electronically generated and official within the InspectionSys platform.',
    confidential: 'CONFIDENTIAL',
    supervisorFeedback: 'Supervisor Feedback',
    addFeedback: 'Add Feedback',
    submitFeedback: 'Submit Feedback',
    // Sidebar
    cdr: 'Violations (CDR)',
    myPerformanceAnalysis: 'My Performance',
    // Alerts
    alerts: 'Alerts',
    notifications: 'Notifications',
    markAllAsRead: 'Mark all as read',
    noNewNotifications: 'No new notifications',
    viewAll: 'View All',
    // CDR
    cdrList: 'CDR List',
    newCDR: 'New CDR',
    cdrId: 'CDR ID',
    incidentType: 'Incident Type',
    inCharge: 'In Charge',
    idNo: 'ID No',
    wardLocation: 'Ward / Location',
    dateOfIncident: 'Date of Incident',
    timeOfIncident: 'Time of Incident',
    typeOfIncident: 'Type of Incident',
    basicIncidentInformation: 'Basic Incident Information',
    serviceType: 'Service Type',
    manpowerDiscrepancy: 'Manpower Discrepancy',
    materialDiscrepancy: 'Material Discrepancy',
    equipmentDiscrepancy: 'Equipment Discrepancy',
    discrepancyCategories: 'Discrepancy Categories',
    onSpotAction: 'On-Spot Action',
    actionPlan: 'Action Plan / Recommendations',
    staffComment: 'Staff Comment',
    attachments: 'Attachments',
    employeeSignature: 'Employee Signature',
    managerSignature: 'Manager Signature',
    managerReview: 'Manager Review',
    managerDecision: 'Manager Decision',
    managerComment: 'Manager Comment',
    approveAndFinalize: 'Approve & Finalize',
    pleaseSelectManagerDecision: 'Please select a manager decision before approving.',
    save: 'Save',
    cancel: 'Cancel',
    filter: 'Filter',
    dateFrom: 'Date From',
    dateTo: 'Date To',
    noReportsFound: 'No reports found.',
    // CDR Options
    'First Incident': 'First Incident',
    'Repetitive': 'Repetitive',
    'Routine': 'Routine',
    'Investigation': 'Investigation',
    'Housekeeping': 'Housekeeping',
    'Laundry': 'Laundry',
    'Pest Control': 'Pest Control',
    'Hazardous Material & Medical Waste': 'Hazardous Material & Medical Waste',
    'Horticulture': 'Horticulture',
    'Penalty': 'Penalty',
    'Warning': 'Warning',
    'Attention': 'Attention',
    'No Valid Case': 'No Valid Case',
    // My Reports
    myInspectionsList: 'My Inspections List',
    myReportsList: 'My Inspections History',
    overallPerformance: 'Overall Performance',
    itemPerformanceAnalysis: 'Item Performance Analysis',
    timesInspected: 'Times Inspected',
    avgCompliance: 'Avg. Compliance',
    filterByPeriod: 'Filter by Period',
    last7Days: 'Last 7 Days',
    lastMonth: 'Last Month',
    last3Months: 'Last 3 Months',
    allTime: 'All Time',
    // Inspector Averages
    inspectorAveragesAnalysis: 'Inspector Averages Analysis',
    systemWideItemPerformance: 'System-wide Item Performance',
    overallAvgCompliance: 'Overall Avg. Compliance',
    sortByCompliance: 'Sort by Compliance',
    // Heatmap
    hospitalHeatmap: 'Hospital Heatmap',
    locationPerformanceHeatmap: 'Location Performance Heatmap',
    avgComplianceScore: 'Avg. Compliance Score',
    noData: 'No Data',
    legend: 'Legend',
    // Penalty Invoices
    penaltyInvoices: 'Penalty Invoices',
    invoiceId: 'Invoice ID',
    generatedDate: 'Generated Date',
    totalAmount: 'Total Amount',
    pendingApproval: 'Pending Approval',
    deducted: 'Deducted',
    penaltyInvoice: 'Penalty Invoice',
    invoiceDetails: 'Invoice Details',
    violationItem: 'Violation Item',
    category: 'Category',
    amount: 'Amount',
    approveDeduction: 'Approve Deduction',
    approvedBy: 'Approved By',
    approvalDate: 'Approval Date',
    officialPenaltyReport: 'Official Penalty Report',
    introStatement: 'This report documents official violations and penalties applied to the cleaning contractor based on findings recorded during routine EVS inspections.',
    totalsSection: 'Totals Section',
    totalPenaltyViolations: 'Total Violations',
    totalPenaltyAmountDue: 'Total Amount Due',
    signatures: 'Signatures',
    facilityManager: 'Facility Manager',
    contractorRepresentative: 'Contractor Representative',
    evsSupervisor: 'EVS Supervisor',
    // Global Penalty Statement
    globalPenaltyStatementsList: 'Global Penalty Statements',
    globalPenaltyStatement: 'Global Penalty Statement',
    createStatement: 'Create Statement',
    month: 'Month',
    year: 'Year',
    generateStatement: 'Generate Statement',
    statementPeriod: 'Period',
    statementExistsError: 'A statement for this period already exists.',
    statementIntro: 'This document summarizes all penalty violations recorded against the contractor during the specified period, based on EVS inspections and approved by the facility management.',
    penaltyStatementTitle: 'Global Penalty Statement',
    occurrenceCount: 'Occurrences',
    penaltyPerOccurrence: 'Penalty / Unit',
    total: 'Total',
    generalComments: 'General Comments',
    refreshData: 'Refresh Data',
    approveStatement: 'Approve Statement',
    confirmApprove: 'Are you sure you want to approve this statement? This will lock the record.',
    statementApprovedSuccess: 'Statement approved successfully.',
    deleteRow: 'Delete Row',
    confirmRefresh: 'Are you sure? This will reset manual edits and pull fresh data from invoices.',
    success: 'Success',
    addManualPenalty: 'Add Manual Penalty',
    manualEntry: 'Manual',
    selectViolation: 'Select Violation',
    quantity: 'Quantity',
    managerNotes: 'Manager Notes',
    addPenalty: 'Add Penalty',
    linkCdrs: 'Link to CDRs (Optional)',
    noCdrsFound: 'No CDRs found for this month',
    totalInvoices: 'Total Invoices',
    // Contract Details
    contractDetails: 'Contract Details',
    maintenanceCleaningContract: 'Maintenance and Cleaning Contract',
    days: 'Days',
    zoneLevel: 'Zone Level',
    areas: 'Areas',
    costPerDay: 'Cost/Day',
    vatPerDay: 'VAT/Day',
    dailyTotal: 'Daily Total',
    monthlyValue: 'Monthly Value',
    monthlyVat: 'Monthly VAT',
    monthlyTotal: 'Monthly Total',
    cleaningSuppliesList: 'Cleaning Supplies List',
    equipmentDevicesList: 'Equipment and Devices List',
    no: 'No.',
    itemName: 'Item Name',
    unit: 'Unit',
    // Critical Issues
    criticalIssuesList: 'Critical Issues List',
    requiresImmediateAction: 'Requires Immediate Action',
    filterByMonth: 'Filter by Month',
    searchByNameOrLocation: 'Search by Name or Location',
    failedItems: 'Failed Items',
    warnInspector: 'Warn Inspector',
    // Inspector Feedback
    supervisorFeedbackList: 'Supervisor Feedback',
    filterByLocation: 'Filter by Location',
    filterByDate: 'Filter by Date',
    feedbackComment: 'Feedback Comment',
    noFeedbackFound: 'No feedback found matching your criteria.',
    // Executive Dashboard
        // Task Management
    myTasks: 'My Tasks',
    pendingTasks: 'Pending Tasks',
    completedTasks: 'Completed Tasks',
    noPendingTasks: 'No pending tasks assigned to you.',
    noCompletedTasks: 'No tasks completed yet.',
    startInspection: 'Start Inspection',
    finishedAt: 'Finished at',
    viewReport: 'View Report',
    risk: 'Risk level',
    notAuthorized: 'You are not authorized to view this page.',

    executiveDashboard: 'Executive Dashboard',
    riskOverview: 'Risk Overview',
    todaysVisits: 'Today\'s Visits',
    todaysViolations: 'Today\'s Violations',
    complianceScoreByArea: 'Compliance Score by Area',
    bestPerforming: 'Best Performing',
    worstPerforming: 'Needs Improvement',
    openCDRs: 'Open CDRs',
    viewDetails: 'View Details',
    supervisorPerformance: 'Supervisor Performance',
    avgProcessingTime: 'Avg. Processing Time',
    rejectedReports: 'Rejected Reports',
    quickActions: 'Quick Actions',
    liveActivityFeed: 'Live Activity Feed',
    systemHealthy: 'System Healthy',
    noCriticalIssues: 'No critical issues detected today.',
    inspectorActivityOverview: 'Inspector Activity Overview',
    financialImpact: 'Financial Impact',
    ytdDeductions: 'YTD Deductions',
    forecastDeduction: 'Forecast (Month End)',
    financialTrend: 'Financial Trend vs. Compliance',
    topCostlyViolations: 'Top Costly Violations',
    cost: 'Cost',
    correlationChart: 'Fines vs. Quality',
    lastWeek: 'Last Week',
    lastQuarter: 'Last Quarter',
    last6Months: 'Last 6 Months',
    lastYear: 'Last Year',
    // Penalty descriptions (Articles A, B, C, D)
    penalty_a1: 'Failure to clean equipment daily or repair cleaning equipment properly and not following safety procedures.',
    penalty_a2: 'Delay in submitting required correspondence, reports, and documents.',
    penalty_a3: 'Failure to prepare and submit monthly employee task/area schedules on time.',
    penalty_a4: 'Failure of contractor’s staff to comply with uniform, shoes, or displaying ID badges.',
    penalty_a5: 'Failure to maintain personal hygiene (body, nails, hair, uniform).',
    penalty_a6: 'Failure to provide clearance certificate for departing employees.',
    penalty_a7: 'Failure to follow proper cleaning procedures for public areas as per policies.',
    penalty_a8: 'Failure to collect non-medical waste on time or follow instructions for transport.',
    penalty_a9: 'Delay in equipment maintenance causing work interruption.',
    penalty_b1: 'Failure to supply daily consumables/tools for each site.',
    penalty_b2: 'Failure to follow administrative directions (delivery delays, policy non-compliance, etc.).',
    penalty_b3: 'Employee absence or late arrival without approval – per hour.',
    penalty_b4: 'Failure to prepare/submit required professional training program.',
    penalty_b5: 'Failure to place warning signs during cleaning in medical areas.',
    penalty_b6: 'Failure to respond promptly to cleaning-related complaints.',
    penalty_b7: 'Employee taking leave without prior approval.',
    penalty_b8: 'Failure to collect non-medical waste from wings/medical areas.',
    penalty_c1: 'Failure to meet management & supervision competence standards.',
    penalty_c2: 'Improper handling of non-medical waste, exposing people/environment to harm.',
    penalty_c3: 'Improper handling of medical waste, exposing people/environment to harm.',
    penalty_c4: 'Failure to collect medical waste on time or follow transport procedures.',
    penalty_c5: 'Failure to respond to emergencies (floods, fire, evacuation).',
    penalty_c6: 'Use of unlicensed cleaning materials inside the facility.',
    penalty_c7: 'Providing misleading information on manpower attendance or reports.',
    penalty_c8: 'Hiring workers without approval.',
    penalty_c9: 'Failure to pay workers’ salaries.',
    penalty_d1: 'Failure to follow directives for cleaning patient rooms, ORs, and healthcare areas.',
    penalty_d2: 'Failure to wear proper PPE in required areas.',
    penalty_d3: 'Failure to inform project representative before employee exit or replacement.',
    penalty_d4: 'Failure to fill any contract-defined position – per week per position.',
    penalty_d5: 'Failure to fill vacant positions – per week per worker.',
    penalty_d6: 'Negligence causing injuries or property damage – contractor bears costs.',
    penalty_d7: 'Failure to follow infection control policies and safety procedures.',
    penalty_d8: 'Improper use of chemicals exposing staff/patients/visitors to harm.',
    penalty_d9: 'Issuing cleaning supplies or tools for non-work purposes.',
  },
  ar: {
    login: 'تسجيل الدخول',
    email: 'البريد الإلكتروني',
    password: 'كلمة المرور',
    loginError: 'البريد الإلكتروني أو كلمة المرور غير صحيحة.',
    inspector: 'مفتش',
    supervisor: 'مشرف',
    executive: 'تنفيذي',
    dashboard: 'لوحة التحكم',
    newInspection: 'تفتيش جديد',
    reports: 'التفتيشات',
    settings: 'الإعدادات',
    logout: 'تسجيل الخروج',
    welcome: 'أهلاً بك',
    username: 'اسم المستخدم',
    passwordPlaceholder: 'أدخل كلمة المرور',
    demoCredentials: 'بيانات تجريبية',
    clickToFill: 'اضغط للتعبئة',
    // Report & Dashboard
    referenceNumber: 'رقم المرجع',
    date: 'التاريخ',
    time: 'الوقت',
    location: 'الموقع',
    status: 'الحالة',
    score: 'النتيجة',
    view: 'عرض',
    saveAsDraft: 'حفظ كمسودة',
    submitReport: 'إرسال التقرير',
    totalReports: 'إجمالي التقارير',
    averageScore: 'متوسط النتيجة',
    criticalIssues: 'مشاكل حرجة',
    performanceTrend: 'مؤشر الأداء',
    riskCategoryDistribution: 'توزيع المخاطر',
    recentInspections: 'آخر التفتيشات',
    // Form
    inspectionForm: 'نموذج التفتيش',
    evaluationItem: 'عنصر التقييم',
    photoEvidence: 'دليل بالصور',
    addANote: 'أضف ملاحظة...',
    uploadPhoto: 'رفع صورة',
    noPhotosUploaded: 'لم يتم رفع صور',
    additionalNotes: 'ملاحظات إضافية',
    possibleNotes: 'ملاحظات قياسية',
    // New Inspection Page
    selectRiskCategory: 'اختر فئة خطورة المنطقة',
    highRisk: 'مخاطر عالية',
    mediumRisk: 'مخاطر متوسطة',
    lowRisk: 'مخاطر منخفضة',
    startEvaluation: 'بدء التقييم',
    subLocations: 'مواقع فرعية',
    subLocationPlaceholder: 'مثال: سرير 1، غرفة 101...',
    zoneType: 'نوع المنطقة',
    // Settings
    userManagement: 'إدارة المستخدمين',
    addUser: 'إضافة مستخدم',
    editUser: 'تعديل مستخدم',
    deleteUser: 'حذف مستخدم',
    fullName: 'الاسم الكامل',
    role: 'الدور',
    actions: 'إجراءات',
    confirmDelete: 'هل أنت متأكد من حذف هذا المستخدم؟',
    userCreated: 'تم إنشاء المستخدم بنجاح',
    userUpdated: 'تم تحديث المستخدم بنجاح',
    userDeleted: 'تم حذف المستخدم بنجاح',
    changePassword: 'تغيير كلمة المرور',
    currentPassword: 'كلمة المرور الحالية',
    newPassword: 'كلمة المرور الجديدة',
    confirmNewPassword: 'تأكيد كلمة المرور الجديدة',
    passwordMismatch: 'كلمات المرور غير متطابقة',
    passwordUpdated: 'تم تحديث كلمة المرور بنجاح',
    incorrectPassword: 'كلمة المرور الحالية غير صحيحة',
    myProfile: 'ملفي الشخصي',
    // Report Detail
    reportDetails: 'تفاصيل التقرير',
    downloadPdf: 'تحميل PDF',
    inspectionReportTitle: 'تقرير تفتيش الخدمات البيئية',
    generatedReportNotice: 'هذا المستند تم إنشاؤه إلكترونياً ويعتبر رسمياً داخل منصة InspectionSys.',
    confidential: 'سري',
    supervisorFeedback: 'ملاحظات المشرف',
    addFeedback: 'إضافة ملاحظات',
    submitFeedback: 'إرسال الملاحظات',
    // Sidebar
    cdr: 'المخالفات (CDR)',
    myPerformanceAnalysis: 'تحليل أدائي',
    // Alerts
    alerts: 'التنبيهات',
    notifications: 'الإشعارات',
    markAllAsRead: 'تحديد الكل كمقروء',
    noNewNotifications: 'لا توجد إشعارات جديدة',
    viewAll: 'عرض الكل',
    // CDR
    cdrList: 'قائمة تقارير المخالفات',
    newCDR: 'تقرير مخالفة جديد',
    cdrId: 'رقم المخالفة',
    incidentType: 'نوع الحادثة',
    inCharge: 'المسؤول',
    idNo: 'رقم الهوية',
    wardLocation: 'الجناح / الموقع',
    dateOfIncident: 'تاريخ الحادثة',
    timeOfIncident: 'وقت الحادثة',
    typeOfIncident: 'نوع الحادثة',
    basicIncidentInformation: 'معلومات الحادثة الأساسية',
    serviceType: 'نوع الخدمة',
    manpowerDiscrepancy: 'مخالفات القوى العاملة',
    materialDiscrepancy: 'مخالفات المواد',
    equipmentDiscrepancy: 'مخالفات المعدات',
    discrepancyCategories: 'فئات المخالفة',
    onSpotAction: 'الإجراء الفوري',
    actionPlan: 'خطة العمل / التوصيات',
    staffComment: 'تعليق الموظف',
    attachments: 'المرفقات',
    employeeSignature: 'توقيع الموظف',
    managerSignature: 'توقيع المدير',
    managerReview: 'مراجعة واعتماد المدير',
    managerDecision: 'قرار المدير',
    managerComment: 'تعليق المدير',
    approveAndFinalize: 'اعتماد وإنهاء التقرير',
    pleaseSelectManagerDecision: 'الرجاء اختيار قرار المدير قبل الاعتماد.',
    save: 'حفظ',
    cancel: 'إلغاء',
    filter: 'تصفية',
    dateFrom: 'من تاريخ',
    dateTo: 'إلى تاريخ',
    noReportsFound: 'لا توجد تقارير.',
    // CDR Options
    'First Incident': 'حادثة أولى',
    'Repetitive': 'متكررة',
    'Routine': 'روتينية',
    'Investigation': 'تحقيق',
    'Housekeeping': 'خدمات التنظيف',
    'Laundry': 'تنظيف الملابس',
    'Pest Control': 'مكافحة الحشرات',
    'Hazardous Material & Medical Waste': 'المواد الخطرة والنفايات الطبية',
    'Horticulture': 'البستنة',
    'Penalty': 'جزاء / Penalty',
    'Warning': 'تحذير / Warning',
    'Attention': 'تنبيه / Attention',
    'No Valid Case': 'لا توجد قضية / No Valid Case',
    // My Reports
    myInspectionsList: 'سجل تفتيشاتي',
    myReportsList: 'سجل تفتيشاتي',
    overallPerformance: 'الأداء العام',
    itemPerformanceAnalysis: 'تحليل أداء العناصر',
    timesInspected: 'عدد مرات التفتيش',
    avgCompliance: 'متوسط الامتثال',
    filterByPeriod: 'تصفية حسب الفترة',
    last7Days: 'آخر 7 أيام',
    lastMonth: 'آخر شهر',
    last3Months: 'آخر 3 أشهر',
    allTime: 'كل الأوقات',
    // Inspector Averages
    inspectorAveragesAnalysis: 'تحليل متوسطات المفتشين',
    systemWideItemPerformance: 'أداء العناصر على مستوى النظام',
    overallAvgCompliance: 'متوسط الالتزام الإجمالي',
    sortByCompliance: 'ترتيب حسب الامتثال',
    // Heatmap
    hospitalHeatmap: 'الخريطة الحرارية للمستشفى',
    locationPerformanceHeatmap: 'خريطة أداء المواقع',
    avgComplianceScore: 'متوسط درجة الامتثال',
    noData: 'لا توجد بيانات',
    legend: 'الدليل',
    // Penalty Invoices
    penaltyInvoices: 'فواتير الغرامات',
    invoiceId: 'رقم الفاتورة',
    generatedDate: 'تاريخ الإصدار',
    totalAmount: 'المبلغ الإجمالي',
    pendingApproval: 'بانتظار الاعتماد',
    deducted: 'تم الخصم',
    penaltyInvoice: 'فاتورة غرامة',
    invoiceDetails: 'تفاصيل الفاتورة',
    violationItem: 'بند المخالفة',
    category: 'الفئة',
    amount: 'المبلغ',
    approveDeduction: 'اعتماد الخصم',
    approvedBy: 'تم الاعتماد بواسطة',
    approvalDate: 'تاريخ الاعتماد',
    officialPenaltyReport: 'تقرير غرامة رسمي',
    introStatement: 'يوثق هذا التقرير المخالفات والغرامات الرسمية المطبقة على مقاول النظافة بناءً على النتائج المسجلة خلال تفتيشات الخدمات البيئية الروتينية.',
    totalsSection: 'القسم المالي',
    totalPenaltyViolations: 'عدد المخالفات',
    totalPenaltyAmountDue: 'إجمالي المبلغ المستحق',
    signatures: 'التواقيع',
    facilityManager: 'مدير المنشأة',
    contractorRepresentative: 'ممثل المقاول',
    evsSupervisor: 'مشرف البيئة',
    // Global Penalty Statement
    globalPenaltyStatementsList: 'قائمة المستخلصات العامة',
    globalPenaltyStatement: 'المستخلص العام للغرامات',
    createStatement: 'إنشاء مستخلص',
    month: 'الشهر',
    year: 'السنة',
    generateStatement: 'توليد المستخلص',
    statementPeriod: 'الفترة',
    statementExistsError: 'يوجد مستخلص لهذه الفترة بالفعل.',
    statementIntro: 'يلخص هذا المستند جميع مخالفات الغرامات المسجلة ضد المقاول خلال الفترة المحددة، بناءً على تفتيشات البيئة ومعتمدة من إدارة المنشأة.',
    penaltyStatementTitle: 'المستخلص العام للغرامات',
    occurrenceCount: 'عدد التكرار',
    penaltyPerOccurrence: 'الغرامة / الوحدة',
    total: 'الإجمالي',
    generalComments: 'ملاحظات عامة',
    refreshData: 'تحديث البيانات',
    approveStatement: 'اعتماد المستخلص',
    confirmApprove: 'هل أنت متأكد من اعتماد هذا المستخلص؟ سيتم قفل السجل.',
    statementApprovedSuccess: 'تم اعتماد المستخلص بنجاح.',
    deleteRow: 'حذف الصف',
    confirmRefresh: 'هل أنت متأكد؟ سيتم إعادة تعيين التعديلات اليدوية وجلب بيانات جديدة.',
    success: 'نجاح',
    addManualPenalty: 'إضافة غرامة يدوية',
    manualEntry: 'إدخال يدوي',
    selectViolation: 'اختر المخالفة',
    quantity: 'العدد',
    managerNotes: 'ملاحظات المدير',
    addPenalty: 'إضافة الغرامة',
    linkCdrs: 'ربط بتقرير مخالفة (اختياري)',
    noCdrsFound: 'لا توجد تقارير مخالفات لهذا الشهر',
    totalInvoices: 'عدد الفواتير',
    // Contract Details
    contractDetails: 'تفاصيل العقد',
    maintenanceCleaningContract: 'عقد الصيانة والنظافة',
    days: 'أيام',
    zoneLevel: 'مستوى المنطقة',
    areas: 'المساحات',
    costPerDay: 'التكلفة/يوم',
    vatPerDay: 'الضريبة/يوم',
    dailyTotal: 'الإجمالي اليومي',
    monthlyValue: 'القيمة الشهرية',
    monthlyVat: 'الضريبة الشهرية',
    monthlyTotal: 'الإجمالي الشهري',
    cleaningSuppliesList: 'قائمة المستهلكات',
    equipmentDevicesList: 'قائمة المعدات والأجهزة',
    no: 'م',
    itemName: 'اسم الصنف',
    unit: 'الوحدة',
    // Critical Issues
    criticalIssuesList: 'قائمة المشاكل الحرجة',
    requiresImmediateAction: 'تتطلب إجراءً فورياً',
    filterByMonth: 'تصفية حسب الشهر',
    searchByNameOrLocation: 'بحث بالاسم أو الموقع',
    failedItems: 'عناصر راسبة',
    warnInspector: 'تنبيه المفتش',
    // Inspector Feedback
    supervisorFeedbackList: 'ملاحظات المشرفين',
    filterByLocation: 'تصفية حسب الموقع',
    filterByDate: 'تصفية حسب التاريخ',
    feedbackComment: 'تعليق المشرف',
    noFeedbackFound: 'لا توجد ملاحظات مطابقة.',
    // Executive Dashboard
    executiveDashboard: 'لوحة المدير الأعلى',
    riskOverview: 'نظرة عامة على المخاطر',
    todaysVisits: 'زيارات اليوم',
    todaysViolations: 'مخالفات اليوم',
    complianceScoreByArea: 'الامتثال حسب المنطقة',
    bestPerforming: 'الأفضل',
    worstPerforming: 'الأسوأ',
    openCDRs: 'مخالفات مفتوحة',
    viewDetails: 'التفاصيل',
    supervisorPerformance: 'أداء المشرفين',
    avgProcessingTime: 'متوسط وقت المعالجة',
    rejectedReports: 'تقارير مرفوضة',
    quickActions: 'روابط سريعة',
    liveActivityFeed: 'شريط النشاط',
    systemHealthy: 'النظام مستقر',
    noCriticalIssues: 'لا توجد مشاكل حرجة اليوم.',
    inspectorActivityOverview: 'نشاط المفتشين',
    financialImpact: 'الأثر المالي',
    ytdDeductions: 'إجمالي الخصومات (سنوي)',
    forecastDeduction: 'توقعات الخصم (نهاية الشهر)',
    financialTrend: 'المسار المالي مقابل الامتثال',
    topCostlyViolations: 'المخالفات الأكثر تكلفة',
    cost: 'التكلفة',
    correlationChart: 'الغرامات مقابل الجودة',
    lastWeek: 'آخر أسبوع',
    lastQuarter: 'آخر ربع سنوي',
    last6Months: 'آخر 6 أشهر',
    lastYear: 'آخر سنة',
    // Task Management
myTasks: 'مهامي',
pendingTasks: 'مهام قيد التنفيذ',
completedTasks: 'مهام منجزة',
noPendingTasks: 'لا توجد مهام قيد التنفيذ مكلّف بها حالياً.',
noCompletedTasks: 'لم تنهِ أي مهام حتى الآن.',
startInspection: 'بدء التفتيش',
finishedAt: 'تاريخ الإنهاء',
viewReport: 'عرض التقرير',
risk: 'مستوى الخطورة',
notAuthorized: 'ليست لديك صلاحية لعرض هذه الصفحة.',

    // Penalty descriptions (Articles A, B, C, D)
    penalty_a1: 'عدم تنظيف المعدات يوميًا أو إصلاح معدات التنظيف بشكل صحيح وعدم اتباع إجراءات السلامة.',
    penalty_a2: 'التأخير في تقديم المراسلات والتقارير والمستندات المطلوبة.',
    penalty_a3: 'عدم إعداد وتقديم جداول مهام/مناطق الموظفين الشهرية في الوقت المحدد.',
    penalty_a4: 'عدم التزام موظفي المقاول بالزي الرسمي أو الأحذية أو عرض بطاقات الهوية.',
    penalty_a5: 'عدم الحفاظ على النظافة الشخصية (الجسم، الأظافر، الشعر، الزي الرسمي).',
    penalty_a6: 'عدم تقديم شهادة إخلاء طرف للموظفين المغادرين.',
    penalty_a7: 'عدم اتباع إجراءات التنظيف الصحيحة للمناطق العامة حسب السياسات.',
    penalty_a8: 'عدم جمع النفايات غير الطبية في الوقت المحدد أو اتباع تعليمات النقل.',
    penalty_a9: 'تأخير في صيانة المعدات مما يسبب توقف العمل.',
    penalty_b1: 'عدم توفير المواد الاستهلاكية/الأدوات اليومية لكل موقع.',
    penalty_b2: 'عدم اتباع التوجيهات الإدارية (تأخير التسليم، عدم الامتثال للسياسات، إلخ).',
    penalty_b3: 'غياب الموظف أو التأخر عن الوصول بدون موافقة - لكل ساعة.',
    penalty_b4: 'عدم إعداد/تقديم برنامج التدريب المهني المطلوب.',
    penalty_b5: 'عدم وضع علامات تحذيرية أثناء التنظيف في المناطق الطبية.',
    penalty_b6: 'عدم الاستجابة الفورية للشكاوى المتعلقة بالتنظيف.',
    penalty_b7: 'أخذ الموظف إجازة بدون موافقة مسبقة.',
    penalty_b8: 'عدم جمع النفايات غير الطبية من الأجنحة/المناطق الطبية.',
    penalty_c1: 'عدم استيفاء معايير كفاءة الإدارة والإشراف.',
    penalty_c2: 'التعامل غير السليم مع النفايات غير الطبية، مما يعرض الناس/البيئة للضرر.',
    penalty_c3: 'التعامل غير السليم مع النفايات الطبية، مما يعرض الناس/البيئة للضرر.',
    penalty_c4: 'عدم جمع النفايات الطبية في الوقت المحدد أو اتباع إجراءات النقل.',
    penalty_c5: 'عدم الاستجابة لحالات الطوارئ (الفيضانات، الحرائق، الإخلاء).',
    penalty_c6: 'استخدام مواد تنظيف غير مرخصة داخل المنشأة.',
    penalty_c7: 'تقديم معلومات مضللة حول حضور القوى العاملة أو التقارير.',
    penalty_c8: 'توظيف عمال بدون موافقة.',
    penalty_c9: 'عدم دفع رواتب العمال.',
    penalty_d1: 'عدم اتباع التوجيهات لتنظيف غرف المرضى، غرف العمليات، والمناطق الصحية.',
    penalty_d2: 'عدم ارتداء معدات الوقاية الشخصية المناسبة في المناطق المطلوبة.',
    penalty_d3: 'عدم إبلاغ ممثل المشروع قبل خروج الموظف أو استبداله.',
    penalty_d4: 'عدم شغل أي منصب محدد في العقد - أسبوعيًا لكل منصب.',
    penalty_d5: 'عدم شغل المناصب الشاغرة - أسبوعيًا لكل عامل.',
    penalty_d6: 'الإهمال الذي يسبب إصابات أو أضرار في الممتلكات - يتحمل المقاول التكاليف.',
    penalty_d7: 'عدم اتباع سياسات مكافحة العدوى وإجراءات السلامة.',
    penalty_d8: 'الاستخدام غير السليم للمواد الكيميائية مما يعرض الموظفين/المرضى/الزوار للضرر.',
    penalty_d9: 'صرف مستلزمات أو أدوات تنظيف لأغراض غير متعلقة بالعمل.',
  },
};

export const I18nContext = createContext<I18nContextType>({
  language: 'ar',
  setLanguage: () => {},
  t: (key: string) => translations.ar[key] || key,
});

export const I18nProvider: React.FC<{ children: ReactNode }> = ({ children }) => {
  const [language, setLanguage] = useState<'en' | 'ar'>(() => {
    const saved = localStorage.getItem('app_language');
    return (saved === 'ar' || saved === 'en') ? saved : 'ar';
  });

  useEffect(() => {
    const root = document.documentElement;
    root.lang = language;
    root.dir = language === 'ar' ? 'rtl' : 'ltr';
    localStorage.setItem('app_language', language);
  }, [language]);

  const t = (key: string): string => {
    return translations[language][key] || translations.en[key] || key;
  };

  return (
    <I18nContext.Provider value={{ language, setLanguage, t }}>
      {children}
    </I18nContext.Provider>
  );
};
